<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Traveled Countries</title>
  <style>
    :root {
      --bg: #0b1020;
      --bg-soft: #121a2f;
      --card: #17213b;
      --text: #eaf0ff;
      --muted: #9fb0d9;
      --accent: #7aa2ff;
      --accent-2: #8ef0d0;
      --border: #2c3b64;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: Inter, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      color: var(--text);
      background:
        radial-gradient(circle at 12% 8%, #233869 0%, transparent 24%),
        radial-gradient(circle at 88% 12%, #1d544f 0%, transparent 22%),
        linear-gradient(150deg, var(--bg) 0%, #090e1d 100%);
      min-height: 100vh;
    }

    .container {
      width: min(1160px, 92vw);
      margin: 48px auto 80px;
    }

    .hero {
      background: linear-gradient(135deg, rgba(122, 162, 255, 0.24), rgba(142, 240, 208, 0.14));
      border: 1px solid var(--border);
      border-radius: 20px;
      padding: 32px;
      margin-bottom: 24px;
      backdrop-filter: blur(4px);
    }

    h1 {
      margin: 0 0 8px;
      font-size: clamp(1.8rem, 2.6vw, 2.8rem);
      letter-spacing: 0.02em;
    }

    .subtitle {
      margin: 0;
      color: var(--muted);
      font-size: 1.04rem;
      line-height: 1.5;
      max-width: 70ch;
    }

    .subtitle-note {
      margin-top: 8px;
      color: var(--muted);
      font-size: 0.93rem;
    }

    .search-wrap {
      margin-top: 18px;
    }

    .search-field {
      position: relative;
      width: min(520px, 100%);
    }

    .search-label {
      display: block;
      font-size: 0.9rem;
      color: var(--muted);
      margin-bottom: 8px;
    }

    .search-input {
      width: 100%;
      border: 1px solid var(--border);
      background: rgba(10, 16, 34, 0.7);
      color: var(--text);
      border-radius: 12px;
      padding: 11px 42px 11px 14px;
      font-size: 0.97rem;
      outline: none;
    }

    .search-input:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(122, 162, 255, 0.18);
    }

    .clear-search {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      border: 1px solid var(--border);
      background: rgba(23, 33, 59, 0.95);
      color: var(--muted);
      width: 24px;
      height: 24px;
      border-radius: 999px;
      cursor: pointer;
      font-size: 0.92rem;
      line-height: 1;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0;
    }

    .clear-search:hover {
      color: var(--text);
      border-color: var(--accent);
    }

    .clear-search[hidden] {
      display: none;
    }

    .continent {
      background: rgba(18, 26, 47, 0.74);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 18px;
    }

    .continent h2 {
      margin: 2px 0 14px;
      font-size: 1.3rem;
      color: var(--accent-2);
      letter-spacing: 0.01em;
    }

    .countries {
      display: grid;
      gap: 12px;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    }

    .country {
      border: 1px solid var(--border);
      border-radius: 12px;
      background: linear-gradient(180deg, rgba(122, 162, 255, 0.08), rgba(255, 255, 255, 0));
      padding: 12px 14px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .country.visited {
      border-color: var(--accent-2);
      background: linear-gradient(180deg, rgba(142, 240, 208, 0.18), rgba(255, 255, 255, 0));
      box-shadow: inset 0 0 0 1px rgba(142, 240, 208, 0.12);
    }

    .country-open {
      border: 0;
      background: transparent;
      color: var(--text);
      cursor: pointer;
      padding: 0;
      font-weight: 650;
      letter-spacing: 0.01em;
      display: flex;
      justify-content: space-between;
      align-items: center;
      outline: none;
      gap: 10px;
      flex: 1;
      text-align: left;
    }

    .country-open::after {
      content: "+";
      color: var(--accent);
      font-size: 1.1rem;
      line-height: 1;
      margin-left: auto;
    }

    .country-open:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 3px;
      border-radius: 8px;
    }

    .city-list {
      margin: 0;
      padding: 0 0 0 24px;
      color: var(--muted);
      line-height: 1.7;
      font-size: 0.95rem;
    }

    .city-list li.location-visited {
      color: var(--accent-2);
      font-weight: 700;
    }

    .country-name {
      flex: 1;
    }

    .country.visited .country-name {
      color: var(--accent-2);
      font-weight: 800;
    }

    .visit-status {
      border: 1px solid var(--border);
      color: var(--muted);
      background: rgba(10, 16, 34, 0.68);
      border-radius: 999px;
      padding: 3px 8px;
      font-size: 0.76rem;
      letter-spacing: 0.02em;
      text-transform: uppercase;
      flex: 0 0 auto;
    }

    .country.visited .visit-status {
      color: #061c15;
      border-color: var(--accent-2);
      background: var(--accent-2);
      font-weight: 700;
    }

    .modal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 20px;
      z-index: 50;
    }

    .modal.open {
      display: flex;
    }

    .modal-backdrop {
      position: absolute;
      inset: 0;
      background: rgba(3, 8, 20, 0.76);
    }

    .modal-panel {
      position: relative;
      width: min(560px, 92vw);
      max-height: min(76vh, 680px);
      overflow: auto;
      background: var(--bg-soft);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 18px 18px 16px;
      z-index: 1;
    }

    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 10px;
    }

    .modal-title {
      margin: 0;
      font-size: 1.2rem;
      color: var(--accent-2);
    }

    .modal-info {
      margin: 0 0 12px;
      color: var(--muted);
      line-height: 1.55;
      font-size: 0.95rem;
    }

    .modal-close {
      border: 1px solid var(--border);
      background: rgba(23, 33, 59, 0.95);
      color: var(--muted);
      width: 30px;
      height: 30px;
      border-radius: 999px;
      cursor: pointer;
      font-size: 1rem;
      line-height: 1;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0;
      flex: 0 0 auto;
    }

    .modal-close:hover {
      color: var(--text);
      border-color: var(--accent);
    }

    footer {
      color: var(--muted);
      font-size: 0.9rem;
      text-align: center;
      margin-top: 28px;
    }
  </style>
</head>
<body>
  <main class="container">
    <section class="hero">
      <h1>Traveled Countries</h1>
      <p class="subtitle">
        Organized by continent. Click any country to reveal locations
      </p>
      <p class="subtitle-note">Visited countries are shown as locked labels.</p>
      <div class="search-wrap">
        <label class="search-label" for="countrySearch">Find a country</label>
        <div class="search-field">
          <input id="countrySearch" class="search-input" type="search" placeholder="Type a country name..." autocomplete="off" />
          <button id="clearSearch" class="clear-search" type="button" aria-label="Clear search" hidden>×</button>
        </div>
      </div>
    </section>

    <div id="app"></div>
    <footer>Travel Checklist • 100 countries • 5 cities each</footer>
  </main>

  <div id="countryModal" class="modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="modalCountryTitle">
    <div class="modal-backdrop" data-close-modal="true"></div>
    <div class="modal-panel">
      <div class="modal-header">
        <h3 id="modalCountryTitle" class="modal-title"></h3>
        <button id="closeCountryModal" class="modal-close" type="button" aria-label="Close">×</button>
      </div>
      <p id="modalCountryInfo" class="modal-info"></p>
      <ol id="modalCityList" class="city-list"></ol>
    </div>
  </div>

  <script>
    const travelData = [
      {
        continent: "North America",
        countries: [
          { name: "United States", cities: [
            "Alabama", "Alaska", "Arizona", "Arkansas", "California", "Colorado", "Connecticut", "Delaware", "Florida", "Georgia",
            "Hawaii", "Idaho", "Illinois", "Indiana", "Iowa", "Kansas", "Kentucky", "Louisiana", "Maine", "Maryland",
            "Massachusetts", "Michigan", "Minnesota", "Mississippi", "Missouri", "Montana", "Nebraska", "Nevada", "New Hampshire", "New Jersey",
            "New Mexico", "New York", "North Carolina", "North Dakota", "Ohio", "Oklahoma", "Oregon", "Pennsylvania", "Rhode Island", "South Carolina",
            "South Dakota", "Tennessee", "Texas", "Utah", "Vermont", "Virginia", "Washington", "West Virginia", "Wisconsin", "Wyoming",
            "American Samoa", "Guam", "Northern Mariana Islands", "Puerto Rico", "U.S. Virgin Islands"
          ] },
          { name: "Canada", cities: [
            "Alberta", "British Columbia", "Manitoba", "New Brunswick", "Newfoundland and Labrador", "Nova Scotia", "Ontario", "Prince Edward Island", "Quebec", "Saskatchewan",
            "Northwest Territories", "Nunavut", "Yukon"
          ] },
          { name: "Mexico", cities: ["Mexico City", "Cancún", "Guadalajara", "Monterrey", "Puerto Vallarta"] },
          { name: "Cuba", cities: ["Havana", "Varadero", "Santiago de Cuba", "Trinidad", "Cienfuegos"] },
          { name: "Dominican Republic", cities: ["Santo Domingo", "Punta Cana", "Santiago de los Caballeros", "Puerto Plata", "La Romana"] },
          { name: "Jamaica", cities: ["Kingston", "Montego Bay", "Negril", "Ocho Rios", "Port Antonio"] },
          { name: "Bahamas", cities: ["Nassau", "Freeport", "Marsh Harbour", "George Town", "Bimini"] },
          { name: "Costa Rica", cities: ["San José", "Liberia", "La Fortuna", "Tamarindo", "Puerto Viejo"] },
          { name: "Panama", cities: ["Panama City", "Bocas del Toro", "Boquete", "Colón", "David"] },
          { name: "Guatemala", cities: ["Guatemala City", "Antigua Guatemala", "Flores", "Quetzaltenango", "Panajachel"] },
          { name: "Belize", cities: ["Belize City", "San Pedro", "Caye Caulker", "Placencia", "San Ignacio"] },
          { name: "El Salvador", cities: ["San Salvador", "Santa Ana", "La Libertad", "Suchitoto", "El Tunco"] },
          { name: "Honduras", cities: ["Tegucigalpa", "San Pedro Sula", "La Ceiba", "Roatán", "Copán Ruinas"] },
          { name: "Nicaragua", cities: ["Managua", "Granada", "León", "San Juan del Sur", "Ometepe"] },
          { name: "Puerto Rico", cities: ["San Juan", "Ponce", "Mayagüez", "Fajardo", "Rincón"] }
        ]
      },
  
      {
        continent: "Europe",
        countries: [
          { name: "France", cities: ["Paris", "Nice", "Lyon", "Marseille", "Bordeaux"] },
          { name: "Spain", cities: ["Barcelona", "Madrid", "Seville", "Valencia", "Granada"] },
          { name: "Italy", cities: ["Rome", "Venice", "Florence", "Milan", "Naples"] },
          { name: "United Kingdom", cities: ["London", "Cambridge", "Edinburgh", "Manchester", "Liverpool", "Bath"] },
          { name: "Germany", cities: ["Berlin", "Munich", "Hamburg", "Frankfurt", "Cologne"] },
          { name: "Netherlands", cities: ["Amsterdam", "Rotterdam", "The Hague", "Utrecht", "Eindhoven"] },
          { name: "Portugal", cities: ["Lisbon", "Porto", "Faro", "Coimbra", "Braga"] },
          { name: "Greece", cities: ["Athens", "Thessaloniki", "Santorini", "Heraklion", "Patras"] },
          { name: "Switzerland", cities: ["Zurich", "Geneva", "Lucerne", "Bern", "Interlaken"] },
          { name: "Austria", cities: ["Vienna", "Salzburg", "Innsbruck", "Graz", "Linz"] },
          { name: "Belgium", cities: ["Brussels", "Bruges", "Antwerp", "Ghent", "Leuven"] },
          { name: "Ireland", cities: ["Dublin", "Cork", "Galway", "Limerick", "Kilkenny"] },
          { name: "Croatia", cities: ["Zagreb", "Dubrovnik", "Split", "Zadar", "Rijeka"] },
          { name: "Czechia", cities: ["Prague", "Brno", "Český Krumlov", "Plzeň", "Olomouc"] },
          { name: "Poland", cities: ["Warsaw", "Kraków", "Gdańsk", "Wrocław", "Poznań"] },
          { name: "Hungary", cities: ["Budapest", "Debrecen", "Szeged", "Pécs", "Győr"] },
          { name: "Turkey", cities: ["Istanbul", "Ankara", "Izmir", "Antalya", "Bursa"] },
          { name: "Iceland", cities: ["Reykjavik", "Akureyri", "Selfoss", "Húsavík", "Vík"] },
          { name: "Norway", cities: ["Oslo", "Bergen", "Trondheim", "Stavanger", "Tromsø"] },
          { name: "Sweden", cities: ["Stockholm", "Gothenburg", "Malmö", "Uppsala", "Kiruna"] },
          { name: "Denmark", cities: ["Copenhagen", "Aarhus", "Odense", "Aalborg", "Roskilde"] },
          { name: "Finland", cities: ["Helsinki", "Turku", "Tampere", "Rovaniemi", "Oulu"] },
          { name: "Romania", cities: ["Bucharest", "Cluj-Napoca", "Brașov", "Timișoara", "Sibiu"] },
          { name: "Serbia", cities: ["Belgrade", "Novi Sad", "Niš", "Subotica", "Kragujevac"] }
        ]
      },
      {
        continent: "South America",
        countries: [
          { name: "Brazil", cities: ["Rio de Janeiro", "São Paulo", "Salvador", "Brasília", "Florianópolis"] },
          { name: "Argentina", cities: ["Buenos Aires", "Córdoba", "Mendoza", "Bariloche", "Rosario"] },
          { name: "Chile", cities: ["Santiago", "Valparaíso", "Viña del Mar", "San Pedro de Atacama", "Puerto Varas"] },
          { name: "Peru", cities: ["Lima", "Cusco", "Arequipa", "Trujillo", "Iquitos"] },
          { name: "Colombia", cities: ["Bogotá", "Medellín", "Cartagena", "Cali", "Barranquilla"] },
          { name: "Ecuador", cities: ["Quito", "Guayaquil", "Cuenca", "Baños", "Puerto Ayora"] },
          { name: "Uruguay", cities: ["Montevideo", "Punta del Este", "Colonia del Sacramento", "Piriápolis", "Salto"] },
          { name: "Paraguay", cities: ["Asunción", "Ciudad del Este", "Encarnación", "San Bernardino", "Luque"] },
          { name: "Bolivia", cities: ["La Paz", "Santa Cruz de la Sierra", "Sucre", "Cochabamba", "Uyuni"] },
          { name: "Venezuela", cities: ["Caracas", "Maracaibo", "Valencia", "Mérida", "Margarita Island"] },
          { name: "Guyana", cities: ["Georgetown", "New Amsterdam", "Linden", "Bartica", "Lethem"] },
          { name: "Suriname", cities: ["Paramaribo", "Nieuw Nickerie", "Lelydorp", "Moengo", "Albina"] }
        ]
      },
      {
        continent: "Asia",
        countries: [
          { name: "Japan", cities: ["Tokyo", "Kyoto", "Osaka", "Sapporo", "Fukuoka"] },
          { name: "China", cities: ["Beijing", "Shanghai", "Xi'an", "Guangzhou", "Chengdu"] },
          { name: "Thailand", cities: ["Bangkok", "Chiang Mai", "Phuket", "Pattaya", "Krabi"] },
          { name: "Vietnam", cities: ["Ho Chi Minh City", "Hanoi", "Da Nang", "Hoi An", "Nha Trang"] },
          { name: "Singapore", cities: ["Marina Bay", "Sentosa", "Chinatown", "Little India", "Orchard"] },
          { name: "Indonesia", cities: ["Jakarta", "Bali", "Yogyakarta", "Surabaya", "Bandung"] },
          { name: "Malaysia", cities: ["Kuala Lumpur", "George Town", "Malacca", "Johor Bahru", "Kota Kinabalu"] },
          { name: "India", cities: ["Delhi", "Mumbai", "Jaipur", "Goa", "Bengaluru"] },
          { name: "United Arab Emirates", cities: ["Dubai", "Abu Dhabi", "Sharjah", "Ajman", "Ras Al Khaimah"] },
          { name: "South Korea", cities: ["Seoul", "Busan", "Incheon", "Daegu", "Jeju City"] },
          { name: "Philippines", cities: ["Manila", "Cebu City", "Davao", "Boracay", "Baguio"] },
          { name: "Sri Lanka", cities: ["Colombo", "Kandy", "Galle", "Ella", "Negombo"] },
          { name: "Nepal", cities: ["Kathmandu", "Pokhara", "Lalitpur", "Bhaktapur", "Chitwan"] },
          { name: "Cambodia", cities: ["Phnom Penh", "Siem Reap", "Sihanoukville", "Battambang", "Kampot"] },
          { name: "Laos", cities: ["Vientiane", "Luang Prabang", "Vang Vieng", "Pakse", "Savannakhet"] },
          { name: "Taiwan", cities: ["Taipei", "Kaohsiung", "Taichung", "Tainan", "Hualien"] },
          { name: "Hong Kong", cities: ["Central", "Tsim Sha Tsui", "Mong Kok", "Causeway Bay", "Wan Chai"] },
          { name: "Qatar", cities: ["Doha", "Al Wakrah", "Al Khor", "Lusail", "Umm Salal"] },
          { name: "Saudi Arabia", cities: ["Riyadh", "Jeddah", "Mecca", "Medina", "Dammam"] },
          { name: "Jordan", cities: ["Amman", "Petra", "Aqaba", "Jerash", "Madaba"] },
          { name: "Israel", cities: ["Jerusalem", "Tel Aviv", "Haifa", "Eilat", "Nazareth"] },
          { name: "Oman", cities: ["Muscat", "Salalah", "Nizwa", "Sohar", "Sur"] },
          { name: "Kazakhstan", cities: ["Almaty", "Astana", "Shymkent", "Aktau", "Karaganda"] }
        ]
      },
      {
        continent: "Africa",
        countries: [
          { name: "Morocco", cities: ["Marrakesh", "Casablanca", "Fez", "Rabat", "Tangier"] },
          { name: "Egypt", cities: ["Cairo", "Alexandria", "Luxor", "Aswan", "Sharm El-Sheikh"] },
          { name: "South Africa", cities: ["Cape Town", "Johannesburg", "Durban", "Pretoria", "Port Elizabeth"] },
          { name: "Kenya", cities: ["Nairobi", "Mombasa", "Kisumu", "Nakuru", "Malindi"] },
          { name: "Tanzania", cities: ["Dar es Salaam", "Zanzibar City", "Arusha", "Mwanza", "Dodoma"] },
          { name: "Ethiopia", cities: ["Addis Ababa", "Gondar", "Bahir Dar", "Lalibela", "Dire Dawa"] },
          { name: "Nigeria", cities: ["Lagos", "Abuja", "Kano", "Port Harcourt", "Ibadan"] },
          { name: "Ghana", cities: ["Accra", "Kumasi", "Takoradi", "Tamale", "Cape Coast"] },
          { name: "Tunisia", cities: ["Tunis", "Sousse", "Sfax", "Hammamet", "Djerba"] },
          { name: "Algeria", cities: ["Algiers", "Oran", "Constantine", "Annaba", "Tlemcen"] },
          { name: "Rwanda", cities: ["Kigali", "Butare", "Gisenyi", "Musanze", "Kibuye"] },
          { name: "Uganda", cities: ["Kampala", "Entebbe", "Jinja", "Mbarara", "Gulu"] },
          { name: "Namibia", cities: ["Windhoek", "Swakopmund", "Walvis Bay", "Lüderitz", "Rundu"] },
          { name: "Botswana", cities: ["Gaborone", "Maun", "Francistown", "Kasane", "Serowe"] },
          { name: "Mauritius", cities: ["Port Louis", "Grand Baie", "Curepipe", "Quatre Bornes", "Flic en Flac"] },
          { name: "Seychelles", cities: ["Victoria", "Beau Vallon", "Anse Royale", "Takamaka", "Baie Lazare"] }
        ]
      },
      {
        continent: "Oceania",
        countries: [
          { name: "Australia", cities: ["Sydney", "Melbourne", "Brisbane", "Perth", "Adelaide"] },
          { name: "New Zealand", cities: ["Auckland", "Wellington", "Christchurch", "Queenstown", "Dunedin"] },
          { name: "Fiji", cities: ["Nadi", "Suva", "Lautoka", "Labasa", "Savusavu"] },
          { name: "Papua New Guinea", cities: ["Port Moresby", "Lae", "Mount Hagen", "Madang", "Goroka"] },
          { name: "Samoa", cities: ["Apia", "Salelologa", "Safotu", "Mulifanua", "Leulumoega"] },
          { name: "Tonga", cities: ["Nuku'alofa", "Neiafu", "Haveluliku", "Pangai", "Kolonga"] },
          { name: "Vanuatu", cities: ["Port Vila", "Luganville", "Isangel", "Lakatoro", "Sola"] },
          { name: "Solomon Islands", cities: ["Honiara", "Auki", "Gizo", "Buala", "Munda"] },
          { name: "Palau", cities: ["Ngerulmud", "Koror", "Melekeok", "Airai", "Kloulklubed"] },
          { name: "French Polynesia", cities: ["Papeete", "Faaa", "Punaauia", "Mahina", "Bora Bora"] }
        ]
      }
    ];

    const app = document.getElementById("app");
    const countryModal = document.getElementById("countryModal");
    const closeCountryModal = document.getElementById("closeCountryModal");
    const modalCountryTitle = document.getElementById("modalCountryTitle");
    const modalCountryInfo = document.getElementById("modalCountryInfo");
    const modalCityList = document.getElementById("modalCityList");
    let lastTriggerButton = null;

    const defaultVisitedCountries = new Set(["United States", "United Kingdom", "Canada"]);
    const countryFacts = {
      "United States": { language: "English", currency: "U.S. Dollar (USD)", founded: "1776", food: "Hamburger", animal: "Bald Eagle" },
      "Canada": { language: "English and French", currency: "Canadian Dollar (CAD)", founded: "1867", food: "Poutine", animal: "Beaver" },
      "Mexico": { language: "Spanish", currency: "Mexican Peso (MXN)", founded: "1821", food: "Tacos", animal: "Golden Eagle" },
      "Cuba": { language: "Spanish", currency: "Cuban Peso (CUP)", founded: "1902", food: "Ropa Vieja", animal: "Cuban Trogon" },
      "Dominican Republic": { language: "Spanish", currency: "Dominican Peso (DOP)", founded: "1844", food: "La Bandera", animal: "Palmchat" },
      "Jamaica": { language: "English", currency: "Jamaican Dollar (JMD)", founded: "1962", food: "Ackee and Saltfish", animal: "Doctor Bird" },
      "Bahamas": { language: "English", currency: "Bahamian Dollar (BSD)", founded: "1973", food: "Cracked Conch", animal: "Flamingo" },
      "Costa Rica": { language: "Spanish", currency: "Costa Rican Colón (CRC)", founded: "1821", food: "Gallo Pinto", animal: "White-tailed Deer" },
      "Panama": { language: "Spanish", currency: "Balboa (PAB) and U.S. Dollar (USD)", founded: "1903", food: "Sancocho", animal: "Harpy Eagle" },
      "Guatemala": { language: "Spanish", currency: "Guatemalan Quetzal (GTQ)", founded: "1821", food: "Pepián", animal: "Resplendent Quetzal" },
      "Belize": { language: "English", currency: "Belize Dollar (BZD)", founded: "1981", food: "Rice and Beans", animal: "Baird's Tapir" },
      "El Salvador": { language: "Spanish", currency: "U.S. Dollar (USD)", founded: "1841", food: "Pupusas", animal: "Torogoz" },
      "Honduras": { language: "Spanish", currency: "Honduran Lempira (HNL)", founded: "1821", food: "Baleadas", animal: "White-tailed Deer" },
      "Nicaragua": { language: "Spanish", currency: "Nicaraguan Córdoba (NIO)", founded: "1838", food: "Gallo Pinto", animal: "White-tailed Deer" },
      "Puerto Rico": { language: "Spanish and English", currency: "U.S. Dollar (USD)", founded: "1952 (commonwealth)", food: "Mofongo", animal: "Coquí" },

      "Brazil": { language: "Portuguese", currency: "Brazilian Real (BRL)", founded: "1822", food: "Feijoada", animal: "Jaguar" },
      "Argentina": { language: "Spanish", currency: "Argentine Peso (ARS)", founded: "1816", food: "Asado", animal: "Rufous Hornero" },
      "Chile": { language: "Spanish", currency: "Chilean Peso (CLP)", founded: "1818", food: "Pastel de Choclo", animal: "Huemul" },
      "Peru": { language: "Spanish", currency: "Peruvian Sol (PEN)", founded: "1821", food: "Ceviche", animal: "Vicuña" },
      "Colombia": { language: "Spanish", currency: "Colombian Peso (COP)", founded: "1810", food: "Bandeja Paisa", animal: "Andean Condor" },
      "Ecuador": { language: "Spanish", currency: "U.S. Dollar (USD)", founded: "1830", food: "Encebollado", animal: "Andean Condor" },
      "Uruguay": { language: "Spanish", currency: "Uruguayan Peso (UYU)", founded: "1825", food: "Chivito", animal: "Southern Lapwing" },
      "Paraguay": { language: "Spanish and Guaraní", currency: "Paraguayan Guaraní (PYG)", founded: "1811", food: "Sopa Paraguaya", animal: "Pampas Fox" },
      "Bolivia": { language: "Spanish and indigenous languages", currency: "Boliviano (BOB)", founded: "1825", food: "Salteñas", animal: "Llama" },
      "Venezuela": { language: "Spanish", currency: "Venezuelan Bolívar (VES)", founded: "1811", food: "Arepas", animal: "Venezuelan Troupial" },
      "Guyana": { language: "English", currency: "Guyanese Dollar (GYD)", founded: "1966", food: "Pepperpot", animal: "Jaguar" },
      "Suriname": { language: "Dutch", currency: "Surinamese Dollar (SRD)", founded: "1975", food: "Pom", animal: "Jaguar" },

      "France": { language: "French", currency: "Euro (EUR)", founded: "1792", food: "Coq au Vin", animal: "Gallic Rooster" },
      "Spain": { language: "Spanish", currency: "Euro (EUR)", founded: "1479", food: "Paella", animal: "Spanish Bull" },
      "Italy": { language: "Italian", currency: "Euro (EUR)", founded: "1861", food: "Pizza", animal: "Italian Wolf" },
      "United Kingdom": { language: "English", currency: "Pound Sterling (GBP)", founded: "1707", food: "Fish and Chips", animal: "Lion" },
      "Germany": { language: "German", currency: "Euro (EUR)", founded: "1871", food: "Sauerbraten", animal: "Federal Eagle" },
      "Netherlands": { language: "Dutch", currency: "Euro (EUR)", founded: "1581", food: "Stamppot", animal: "Lion" },
      "Portugal": { language: "Portuguese", currency: "Euro (EUR)", founded: "1143", food: "Bacalhau", animal: "Barcelos Rooster" },
      "Greece": { language: "Greek", currency: "Euro (EUR)", founded: "1830", food: "Moussaka", animal: "Dolphin" },
      "Switzerland": { language: "German, French, Italian, and Romansh", currency: "Swiss Franc (CHF)", founded: "1291", food: "Fondue", animal: "Alpine Ibex" },
      "Austria": { language: "German", currency: "Euro (EUR)", founded: "1955", food: "Wiener Schnitzel", animal: "Golden Eagle" },
      "Belgium": { language: "Dutch, French, and German", currency: "Euro (EUR)", founded: "1830", food: "Moules-frites", animal: "Lion" },
      "Ireland": { language: "English and Irish", currency: "Euro (EUR)", founded: "1922", food: "Irish Stew", animal: "Irish Hare" },
      "Croatia": { language: "Croatian", currency: "Euro (EUR)", founded: "1991", food: "Peka", animal: "Marten" },
      "Czechia": { language: "Czech", currency: "Czech Koruna (CZK)", founded: "1993", food: "Svíčková", animal: "Lion" },
      "Poland": { language: "Polish", currency: "Polish Złoty (PLN)", founded: "966", food: "Pierogi", animal: "White-tailed Eagle" },
      "Hungary": { language: "Hungarian", currency: "Hungarian Forint (HUF)", founded: "1000", food: "Gulyás", animal: "Turul" },
      "Turkey": { language: "Turkish", currency: "Turkish Lira (TRY)", founded: "1923", food: "Kebap", animal: "Gray Wolf" },
      "Iceland": { language: "Icelandic", currency: "Icelandic Króna (ISK)", founded: "1944", food: "Lamb Soup", animal: "Gyrfalcon" },
      "Norway": { language: "Norwegian", currency: "Norwegian Krone (NOK)", founded: "1905", food: "Fårikål", animal: "Moose" },
      "Sweden": { language: "Swedish", currency: "Swedish Krona (SEK)", founded: "1523", food: "Köttbullar", animal: "Moose" },
      "Denmark": { language: "Danish", currency: "Danish Krone (DKK)", founded: "965", food: "Smørrebrød", animal: "Mute Swan" },
      "Finland": { language: "Finnish and Swedish", currency: "Euro (EUR)", founded: "1917", food: "Karjalanpiirakka", animal: "Brown Bear" },
      "Romania": { language: "Romanian", currency: "Romanian Leu (RON)", founded: "1859", food: "Sarmale", animal: "Lynx" },
      "Serbia": { language: "Serbian", currency: "Serbian Dinar (RSD)", founded: "2006", food: "Ćevapi", animal: "Gray Wolf" },

      "Japan": { language: "Japanese", currency: "Japanese Yen (JPY)", founded: "660 BCE (traditional)", food: "Sushi", animal: "Green Pheasant" },
      "China": { language: "Mandarin Chinese", currency: "Renminbi Yuan (CNY)", founded: "1949", food: "Peking Duck", animal: "Giant Panda" },
      "Thailand": { language: "Thai", currency: "Thai Baht (THB)", founded: "1238", food: "Pad Thai", animal: "Thai Elephant" },
      "Vietnam": { language: "Vietnamese", currency: "Vietnamese Đồng (VND)", founded: "1945", food: "Phở", animal: "Water Buffalo" },
      "Singapore": { language: "English, Malay, Mandarin, and Tamil", currency: "Singapore Dollar (SGD)", founded: "1965", food: "Hainanese Chicken Rice", animal: "Lion" },
      "Indonesia": { language: "Indonesian", currency: "Indonesian Rupiah (IDR)", founded: "1945", food: "Nasi Goreng", animal: "Komodo Dragon" },
      "Malaysia": { language: "Malay", currency: "Malaysian Ringgit (MYR)", founded: "1957", food: "Nasi Lemak", animal: "Malayan Tiger" },
      "India": { language: "Hindi and English", currency: "Indian Rupee (INR)", founded: "1947", food: "Biryani", animal: "Bengal Tiger" },
      "United Arab Emirates": { language: "Arabic", currency: "UAE Dirham (AED)", founded: "1971", food: "Al Harees", animal: "Arabian Oryx" },
      "South Korea": { language: "Korean", currency: "South Korean Won (KRW)", founded: "1948", food: "Kimchi", animal: "Siberian Tiger" },
      "Philippines": { language: "Filipino and English", currency: "Philippine Peso (PHP)", founded: "1946", food: "Adobo", animal: "Carabao" },
      "Sri Lanka": { language: "Sinhala and Tamil", currency: "Sri Lankan Rupee (LKR)", founded: "1948", food: "Rice and Curry", animal: "Sri Lankan Elephant" },
      "Nepal": { language: "Nepali", currency: "Nepalese Rupee (NPR)", founded: "1768", food: "Dal Bhat", animal: "Cow" },
      "Cambodia": { language: "Khmer", currency: "Cambodian Riel (KHR)", founded: "1953", food: "Amok Trey", animal: "Kouprey" },
      "Laos": { language: "Lao", currency: "Lao Kip (LAK)", founded: "1953", food: "Larb", animal: "Asian Elephant" },
      "Taiwan": { language: "Mandarin Chinese", currency: "New Taiwan Dollar (TWD)", founded: "1912", food: "Beef Noodle Soup", animal: "Formosan Black Bear" },
      "Hong Kong": { language: "Chinese and English", currency: "Hong Kong Dollar (HKD)", founded: "1842", food: "Dim Sum", animal: "Bauhinia Butterfly" },
      "Qatar": { language: "Arabic", currency: "Qatari Riyal (QAR)", founded: "1971", food: "Machboos", animal: "Arabian Oryx" },
      "Saudi Arabia": { language: "Arabic", currency: "Saudi Riyal (SAR)", founded: "1932", food: "Kabsa", animal: "Arabian Camel" },
      "Jordan": { language: "Arabic", currency: "Jordanian Dinar (JOD)", founded: "1946", food: "Mansaf", animal: "Arabian Oryx" },
      "Israel": { language: "Hebrew", currency: "Israeli New Shekel (ILS)", founded: "1948", food: "Falafel", animal: "Mountain Gazelle" },
      "Oman": { language: "Arabic", currency: "Omani Rial (OMR)", founded: "1650", food: "Shuwa", animal: "Arabian Oryx" },
      "Kazakhstan": { language: "Kazakh and Russian", currency: "Kazakhstani Tenge (KZT)", founded: "1991", food: "Beshbarmak", animal: "Golden Eagle" },

      "Morocco": { language: "Arabic and Amazigh", currency: "Moroccan Dirham (MAD)", founded: "1956", food: "Couscous", animal: "Barbary Lion" },
      "Egypt": { language: "Arabic", currency: "Egyptian Pound (EGP)", founded: "1922", food: "Koshari", animal: "Steppe Eagle" },
      "South Africa": { language: "11 official languages", currency: "South African Rand (ZAR)", founded: "1910", food: "Bobotie", animal: "Springbok" },
      "Kenya": { language: "Swahili and English", currency: "Kenyan Shilling (KES)", founded: "1963", food: "Nyama Choma", animal: "Lion" },
      "Tanzania": { language: "Swahili and English", currency: "Tanzanian Shilling (TZS)", founded: "1964", food: "Ugali", animal: "Giraffe" },
      "Ethiopia": { language: "Amharic", currency: "Ethiopian Birr (ETB)", founded: "1941", food: "Injera", animal: "Lion" },
      "Nigeria": { language: "English", currency: "Nigerian Naira (NGN)", founded: "1960", food: "Jollof Rice", animal: "Eagle" },
      "Ghana": { language: "English", currency: "Ghanaian Cedi (GHS)", founded: "1957", food: "Fufu", animal: "Golden Eagle" },
      "Tunisia": { language: "Arabic", currency: "Tunisian Dinar (TND)", founded: "1956", food: "Couscous", animal: "Fennec Fox" },
      "Algeria": { language: "Arabic and Tamazight", currency: "Algerian Dinar (DZD)", founded: "1962", food: "Couscous", animal: "Fennec Fox" },
      "Rwanda": { language: "Kinyarwanda, English, and French", currency: "Rwandan Franc (RWF)", founded: "1962", food: "Ugali", animal: "Mountain Gorilla" },
      "Uganda": { language: "English and Swahili", currency: "Ugandan Shilling (UGX)", founded: "1962", food: "Matoke", animal: "Gray Crowned Crane" },
      "Namibia": { language: "English", currency: "Namibian Dollar (NAD)", founded: "1990", food: "Kapana", animal: "Gemsbok" },
      "Botswana": { language: "English and Setswana", currency: "Botswana Pula (BWP)", founded: "1966", food: "Seswaa", animal: "Zebra" },
      "Mauritius": { language: "English and French", currency: "Mauritian Rupee (MUR)", founded: "1968", food: "Dholl Puri", animal: "Dodo" },
      "Seychelles": { language: "Seychellois Creole, English, and French", currency: "Seychellois Rupee (SCR)", founded: "1976", food: "Grilled Fish", animal: "Aldabra Giant Tortoise" },

      "Australia": { language: "English", currency: "Australian Dollar (AUD)", founded: "1901", food: "Meat Pie", animal: "Red Kangaroo" },
      "New Zealand": { language: "English, Māori, and NZ Sign Language", currency: "New Zealand Dollar (NZD)", founded: "1907", food: "Hāngī", animal: "Kiwi" },
      "Fiji": { language: "English, Fijian, and Fiji Hindi", currency: "Fijian Dollar (FJD)", founded: "1970", food: "Kokoda", animal: "Fiji Banded Iguana" },
      "Papua New Guinea": { language: "English, Tok Pisin, and Hiri Motu", currency: "Papua New Guinean Kina (PGK)", founded: "1975", food: "Mumu", animal: "Bird-of-Paradise" },
      "Samoa": { language: "Samoan and English", currency: "Samoan Tālā (WST)", founded: "1962", food: "Palusami", animal: "Manumea" },
      "Tonga": { language: "Tongan and English", currency: "Tongan Paʻanga (TOP)", founded: "1970", food: "Lu Pulu", animal: "Humpback Whale" },
      "Vanuatu": { language: "Bislama, English, and French", currency: "Vanuatu Vatu (VUV)", founded: "1980", food: "Laplap", animal: "Vanuatu Flying Fox" },
      "Solomon Islands": { language: "English", currency: "Solomon Islands Dollar (SBD)", founded: "1978", food: "Poi", animal: "Dugong" },
      "Palau": { language: "Palauan and English", currency: "U.S. Dollar (USD)", founded: "1994", food: "Fruit Bat Soup", animal: "Palau Dugong" },
      "French Polynesia": { language: "French and Tahitian", currency: "CFP Franc (XPF)", founded: "1880", food: "Poisson Cru", animal: "Tahitian Black Pearl Oyster" }
    };
    const defaultVisitedLocations = {
      "United Kingdom": ["London", "Cambridge"],
      "United States": [
        "Maine", "New Hampshire", "Vermont", "Massachusetts", "Connecticut", "Rhode Island", "New York", "New Jersey", "Pennsylvania", "Delaware", "Florida"
      ],
      "Canada": ["Ontario", "Quebec"]
    };

    const visitedCountries = new Set([...defaultVisitedCountries]);
    const visitedLocationsByCountry = {};

    function normalizeName(value) {
      return value
        .toLowerCase()
        .replace(/[^a-z0-9]+/g, " ")
        .trim();
    }

    function hydrateCountryLocations(countryName, locations = []) {
      if (!visitedLocationsByCountry[countryName]) {
        visitedLocationsByCountry[countryName] = new Set();
      }

      for (const location of locations) {
        visitedLocationsByCountry[countryName].add(normalizeName(location));
      }
    }

    for (const [countryName, locations] of Object.entries(defaultVisitedLocations)) {
      hydrateCountryLocations(countryName, locations);
    }

    function hasVisitedLocations(countryName) {
      return (visitedLocationsByCountry[countryName]?.size || 0) > 0;
    }

    function openCountryModal(country, triggerButton) {
      const facts = countryFacts[country.name] || {
        language: "Language information coming soon",
        currency: "Currency information coming soon",
        founded: "Founding year coming soon",
        food: "National food coming soon",
        animal: "National animal coming soon"
      };

      modalCountryTitle.textContent = country.name;
      modalCountryInfo.textContent = `${country.name} primarily speaks ${facts.language}, uses the ${facts.currency}, and was founded in ${facts.founded}. Its national food is ${facts.food}, and its national animal is the ${facts.animal}.`;
      modalCityList.innerHTML = "";

      for (const city of country.cities) {
        const li = document.createElement("li");
        li.textContent = city;

        const normalizedCity = normalizeName(city);
        if (visitedLocationsByCountry[country.name]?.has(normalizedCity)) {
          li.classList.add("location-visited");
        }

        modalCityList.appendChild(li);
      }

      lastTriggerButton = triggerButton;
      countryModal.classList.add("open");
      countryModal.setAttribute("aria-hidden", "false");
      closeCountryModal.focus();
    }

    function closeModal() {
      countryModal.classList.remove("open");
      countryModal.setAttribute("aria-hidden", "true");
      if (lastTriggerButton) {
        lastTriggerButton.focus();
      }
    }

    for (const section of travelData) {
      const continentEl = document.createElement("section");
      continentEl.className = "continent";

      const title = document.createElement("h2");
      title.textContent = section.continent;
      continentEl.appendChild(title);

      const countriesGrid = document.createElement("div");
      countriesGrid.className = "countries";

      for (const country of section.countries) {
        const countryCard = document.createElement("div");
        countryCard.className = "country";
        countryCard.dataset.country = country.name;
        if (visitedCountries.has(country.name) || hasVisitedLocations(country.name)) {
          countryCard.classList.add("visited");
        }

        const visitStatus = document.createElement("span");
        visitStatus.className = "visit-status";
        visitStatus.textContent = visitedCountries.has(country.name) || hasVisitedLocations(country.name)
          ? "Visited"
          : "Not visited";

        const openButton = document.createElement("button");
        openButton.type = "button";
        openButton.className = "country-open";
        openButton.ariaLabel = `Open ${country.name} locations`;

        const countryName = document.createElement("span");
        countryName.className = "country-name";
        countryName.textContent = country.name;

        openButton.appendChild(countryName);
        openButton.addEventListener("click", () => {
          openCountryModal(country, openButton);
        });

        countryCard.appendChild(visitStatus);
        countryCard.appendChild(openButton);
        countriesGrid.appendChild(countryCard);
      }

      continentEl.appendChild(countriesGrid);
      app.appendChild(continentEl);
    }

    const countrySearch = document.getElementById("countrySearch");
    const clearSearch = document.getElementById("clearSearch");

    closeCountryModal.addEventListener("click", closeModal);
    countryModal.addEventListener("click", (event) => {
      if (event.target.dataset.closeModal === "true") {
        closeModal();
      }
    });

    document.addEventListener("keydown", (event) => {
      if (event.key === "Escape" && countryModal.classList.contains("open")) {
        closeModal();
      }
    });

    function applyCountryFilter() {
      const query = countrySearch.value.trim().toLowerCase();
      clearSearch.hidden = query.length === 0;
      const continents = app.querySelectorAll(".continent");

      for (const continent of continents) {
        const countries = continent.querySelectorAll(".country");
        let visibleCount = 0;

        for (const country of countries) {
          const countryName = country.dataset.country.toLowerCase();
          const matches = countryName.includes(query);

          country.style.display = matches ? "" : "none";

          if (matches) {
            visibleCount += 1;
          }
        }

        continent.style.display = visibleCount > 0 ? "" : "none";
      }
    }

    countrySearch.addEventListener("input", () => {
      applyCountryFilter();
    });

    clearSearch.addEventListener("click", () => {
      countrySearch.value = "";
      applyCountryFilter();
      countrySearch.focus();
    });
  </script>
</body>
</html>
